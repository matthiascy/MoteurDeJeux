set(ZLIB_DIR ${EngineSrcDir}/Thirdparty/zlib)
set(ZLIB_OUTPUT_DIR  ${OUTPUT_DIR_LIBRARY})
message(${ZLIB_DIR})

set(SKIP_INSTALL_ALL ON CACHE BOOL "" FORCE)
set(AMD64 OFF CACHE BOOL "" FORCE)
set(ASM686 OFF CACHE BOOL "" FORCE)

add_subdirectory(${ZLIB_DIR})

set(CMAKE_DISABLE_FIND_PACKAGE_ZLIB TRUE CACHE BOOL "" FORCE)

set(ZLIB_INCLUDE_DIR ${SOURCE_DIR}/thirdparty/zlib ${CMAKE_CURRENT_BINARY_DIR}/thirdparty/zlib CACHE INTERNAL "" FORCE)
set(ZLIB_INCLUDE_DIRS ${ZLIB_INCLUDE_DIR} CACHE INTERNAL "" FORCE)
set(ZLIB_FOUND TRUE)
set(ZLIB_LIBRARIES "zlibstatic" CACHE INTERNAL "" FORCE)

set_target_properties(zlib PROPERTIES
        LINKER_LANGUAGE CXX
        ARCHIVE_OUTPUT_DIRECTORY ${ZLIB_OUTPUT_DIR}
        RUNTIME_OUTPUT_DIRECTORY ${EPHEMERAL_OUTPUT_DIR_BINARY}
        LIBRARY_OUTPUT_DIRECTORY ${EPHEMERAL_OUTPUT_DIR_BINARY}
        )